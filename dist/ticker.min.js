/*! ticker Mar-28-2016 */
!function(){function a(a,b,c){for(var d=0;d<a.length;d++)b.call(c,d,a[d])}function b(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])}function c(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.href);return null===d?null:d[1]}function d(a){for(var b in a)L[b]=a[b]}function e(a,b,c){(L.silentMode!==!0||b)&&(c!==!0&&M.unshift(a),N.unshift(a),B())}function f(a){e(a,!1,!0)}function g(){return L.pauseMode===!0?void f("pauseMode"):void e("test: "+new Date,!0)}function h(){L.pauseMode=!1,i(),L.interval=K.interval,L.logStartTop=K.logStartTop;for(var a=0;a<R.length;a++){var b=R[a];b=b.replace(/\_/g,"&nbsp;"),e(b,!0)}}function i(){L.pauseMode=!1,N=[];var b=document.querySelectorAll("._ticker");a(b,function(a,b){b.parentNode.removeChild(b)})}function j(){e(L.pauseMode?"pause off":"paused"),L.pauseMode=!L.pauseMode}function k(b){void 0===b&&(b=!1);var c="";if(b===!0)M.forEach(function(a){c+=a+"\n"});else{var d=document.querySelectorAll("._ticker_log");d.length>0&&a(d,function(a,b){var d=b.innerHTML.trim();d=d.replace(/&nbsp;/g,""),c+=d+"\n"})}G(c,S.O)}function l(){k(!0)}function m(){var a="";P.forEach(function(b){a+=b+": "+L[b]+"\n"}),a+="listening to console."+L.channel+"\n",G(a,S.D)}function n(){L.silentMode===!0?(L.silentMode=!1,e("silent mode off")):L.silentMode=!0}function o(a){return L.pauseMode?void f("pauseMode"):(L.interval-=L.adjustmentInterval/2,void e("speed: "+L.interval))}function p(a){return L.pauseMode?void f("pauseMode"):(L.interval+=L.adjustmentInterval,void e("speed: "+L.interval))}function q(b){L.align="right",w();var c=document.querySelectorAll("._ticker_log");a(c,function(a,b){b.style.right=0,b.style.left="inherit",b.style["text-align"]="right"}),g()}function r(b){L.align="left",w();var c=document.querySelectorAll("._ticker_log");a(c,function(a,b){b.style.left=0,b.style.right="inherit",b.style["text-align"]="left"}),g()}function s(){function a(){var a="_ticker={";return P.forEach(function(b){void 0!==K[b]&&K[b]===L[b]||(a+="%22"+b+"%22:",a+="string"==typeof L[b]?"%22"+L[b]+"%22":L[b],a+=",")}),a+="}",a=a.replace(/,}/,"}")}var b=window.location.href;b=b.replace(/_ticker=({.*})?&?/,""),-1===b.indexOf("?")&&(b+="?1=1"),b=b+"&"+a(),b=b.replace(/\?1=1&/,"?"),b=b.replace(/\?&/,"?"),b=b.replace(/(&&)+/,"&"),window.location.replace(b)}function t(a){return L.pauseMode?void f("pauseMode"):(i(),L.logStartTop+=5,void e("start: "+L.logStartTop))}function u(a){return L.pauseMode?void f("pauseMode"):(i(),L.logStartTop-=5,void e("start: "+L.logStartTop))}function v(){var b=function(){if(clearInterval(c),!L.pauseMode){var d=document.querySelectorAll("._ticker_log");d.length>0&&a(d,function(a,b){var c=parseInt(getComputedStyle(b).top,10);0>=c?b.parentNode.removeChild(b):b.style.top=c-L.assumedHeightOfLogEntry+"px"})}c=setInterval(b,L.interval)},c=setInterval(b,L.interval)}function w(){function a(){"right"===L.align?(L.logStyle.right=0,L.logStyle.left="inherit",L.logStyle["text-align"]="right"):(L.logStyle.right="inherit",L.logStyle.left=0,L.logStyle["text-align"]="left")}a()}function x(){var a,b=c("_ticker");if(null!==b){try{a=JSON.parse(decodeURIComponent(b))}catch(d){}if("object"==typeof a)for(var e in a)L[e]=a[e]}}function y(){document.body.addEventListener("keydown",function(a){if(Q===!1&&a.keyCode===S.BackTick&&(Q=!0),Q===!0){a.preventDefault();var b={};b[S.B]=function(){L.requireBackTick=!L.requireBackTick,e("requireBackTick: "+L.requireBackTick)},b[S.D]=m,b[S.S]=n,b[S.T]=g,b[S.O]=k,b[S[0]]=l,b[S.P]=j,b[S.K]=i,b[S.H]=h,b[S.Up]=o,b[S.Down]=p,b[S.Right]=q,b[S.Left]=r,b[S.PageDown]=u,b[S.PageUp]=t,b[S.Enter]=s,b[S.Tab]=D,b[S.Esc]=F,"function"==typeof b[a.keyCode]&&b[a.keyCode]()}}),document.body.addEventListener("keyup",function(a){Q===!0&&-1===T.indexOf(a.keyCode)&&(Q=!1)})}function z(){var a=document.querySelector("._ticker_log:last-child");return a?parseInt(a.style.top,10)+2*L.assumedHeightOfLogEntry:L.logStartTop}function A(a){var c=document.createElement("div");c.className="_ticker",b(c,L.logStyle),c.className+=" _ticker_log",c.innerHTML=a,c.style.top=z()+"px",document.body.appendChild(c)}function B(){for(;N.length>0&&z()<O;)A(N.pop())}function C(a){var b=L.channel;b&&"function"==typeof J[b].fnOriginal&&(console[b]=J[b].fnOriginal),L.channel=a,console[a]=function(b,c){var d=b;"`"===b&&(d=c),L.requireBackTick===!1?e(d):L.requireBackTick===!0&&"`"===b?e(d):J[a].fnOriginal.apply(this,[arguments])}}function D(){for(var a=0,b=L.channel;a<I.length&&I[a]!==b;a++);C(I[(a+1)%I.length]),e("listening to "+L.channel)}function E(a){var b=window.innerHeight,c=window.innerWidth,d=document.createElement("div");d.id="_tickerTextarea",d.style.position="fixed",d.style.left=0,d.style.top=0,d.style["z-index"]=9999,d.style.width=c/3+"px",d.style.height=b-10+"px";var e=document.createElement("textarea");e.style.height="100%",e.style.width="100%",e.value=a,d.appendChild(e),document.body.appendChild(d)}function F(){var a=document.getElementById("_tickerTextarea");a&&a.parentNode.removeChild(a)}function G(a,b){L.lastTextareaAction!==b&&F(),L.lastTextareaAction=b,document.getElementById("_tickerTextarea")?(L.pauseMode=!1,F()):(L.pauseMode=!0,E(a))}function H(){for(var a in K)L[a]=K[a]}var I=["log","debug","warn","error","trace"],J={},K={interval:300,logStartTop:30,align:"left",requireBackTick:!0},L={silentMode:!1,pauseMode:!1,assumedHeightOfLogEntry:10,channel:"log",adjustmentInterval:25,lastTextareaAction:void 0,logStyle:{position:"fixed",color:"black","background-color":"#F2F2F2",padding:"1px","z-index":9998,top:0,left:0,"font-family":"courier",opacity:.85}},M=[],N=[],O=1.25*window.innerHeight,P=["interval","logStartTop","align","requireBackTick"],Q=!1,R=["________________________________________________","ticker__________________________________________","________________________________________________","Hold_the_backtick_(`)_key_down_to_enter_commands","________________________________________________","h_->_help_______________________________________","t_->_test_______________________________________","p_->_pause_(freeze_output_toggle)_______________","k_->_kill_(remove_all)__________________________","o_->_output_(show_output_in_textarea_toggle)____","0_->_output_all_(show_entire_log_history)_______","d_->_dump_(show_configuration_values)___________","b_->_back-tick_required_to_console_invocation___","________________________________________________","up_______->_increase_speed______________________","down_____->_decrease_speed______________________","right____->_move logs right_____________________","left_____->_move logs left______________________","pageup___->_increase_starting_point_____________","pagedown_->_decrease_starting_point_____________","________________________________________________","enter_->_save_configuration_in_url______________","c_____->_clear_configuration_in_url_____________","________________________________________________","________________________________________________","Print_to_the_screen:____________________________",'__>> console.log("`",_"lorum_ipsum...")_________',"________________________________________________","-","-","-"],S={BackTick:192,Enter:13,Up:38,Down:40,Right:39,Left:37,PageDown:33,PageUp:34,Tab:9,Esc:27,A:65,B:66,O:79,0:48,D:68,T:84,P:80,S:83,K:75,C:67,H:72},T=[S.Up,S.Down,S.Right,S.Left,S.Esc,S.A,S.B,S.D,S.T,S.O,S[0],S.P,S.K,S.C,S.H,S.S,S.PageDown,S.PageUp,S.Tab];I.forEach(function(a){J[a]={fnOriginal:console[a]}}),H(),x(),w(),C(L.channel),setInterval(function(){B()},250),v(),y(),function(){var a={};a.config=d,a.test=g,a.help=h,a.kill=i,a.silent=n,a.pause=j,a.output=k,a.outputAll=l,a.dump=m,a.moveDown=u,a.moveUp=t,a.moveLeft=r,a.moveRight=q,a.increaseSpeed=o,a.decreaseSpeed=p,a.nextChannel=D,a.reset=H,a._oConfig=L,window._ticker=a}()}();